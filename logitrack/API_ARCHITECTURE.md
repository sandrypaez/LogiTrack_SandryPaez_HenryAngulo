# ğŸ—ºï¸ Mapa de la API REST LogiTrack

## Estructura General de la API

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LogiTrack API REST v1.0.0                   â”‚
â”‚              http://localhost:8080/swagger-ui.html              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                   â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  PUBLIC ENDPOINTS â”‚   â”‚ PROTECTED ENDPOINTS â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
        â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚ Require JWT Token   â”‚
        â”‚                       â”‚ & User Roles        â”‚
        â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                               â”‚
   POST /auth/login          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   POST /auth/register       â”‚                     â”‚
                             â–¼                     â–¼
                        PeticiÃ³n HTTP        Token VÃ¡lido
                        + Token JWT          + Rol Correcto
```

## Flujo de AutenticaciÃ³n

```
                        1. Usuario
                           â”‚
                           â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚   POST /login   â”‚
                   â”‚  {username,     â”‚
                   â”‚   password}     â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ Validar Credencialesâ”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                       â”‚
           âœ— Credenciales      âœ“ Credenciales
             InvÃ¡lidas          VÃ¡lidas
                â”‚                    â”‚
                â–¼                    â–¼
            Error 400        JWT Token Generado
         Unauthorized         (VÃ¡lido 24h)
                                    â”‚
                                    â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚ Guardar Token    â”‚
                          â”‚ en Header        â”‚
                          â”‚ Authorization:   â”‚
                          â”‚ Bearer <token>   â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ Acceder a Endpoints  â”‚
                        â”‚ Protegidos           â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Estructura de Controladores

```
API REST LogiTrack
â”‚
â”œâ”€â”€â”€ ğŸ” AuthController
â”‚    â”œâ”€ POST /auth/login
â”‚    â””â”€ POST /auth/register
â”‚
â”œâ”€â”€â”€ ğŸ“¦ ProductoController
â”‚    â”œâ”€ GET    /productos
â”‚    â”œâ”€ GET    /productos/{id}
â”‚    â”œâ”€ GET    /productos/stock-bajo
â”‚    â”œâ”€ POST   /productos
â”‚    â”œâ”€ PUT    /productos/{id}
â”‚    â””â”€ DELETE /productos/{id}
â”‚
â”œâ”€â”€â”€ ğŸ­ BodegaController
â”‚    â”œâ”€ GET    /bodegas
â”‚    â”œâ”€ GET    /bodegas/{id}
â”‚    â”œâ”€ POST   /bodegas
â”‚    â”œâ”€ PUT    /bodegas/{id}
â”‚    â””â”€ DELETE /bodegas/{id}
â”‚
â”œâ”€â”€â”€ ğŸ”„ MovimientoController
â”‚    â”œâ”€ GET    /movimientos
â”‚    â”œâ”€ GET    /movimientos/{id}
â”‚    â”œâ”€ GET    /movimientos/fechas
â”‚    â”œâ”€ POST   /movimientos/entrada
â”‚    â”œâ”€ POST   /movimientos/salida
â”‚    â”œâ”€ POST   /movimientos/transferencia
â”‚    â””â”€ DELETE /movimientos/{id}
â”‚
â”œâ”€â”€â”€ ğŸ“ AuditoriaController
â”‚    â”œâ”€ GET /auditorias
â”‚    â”œâ”€ GET /auditorias/{id}
â”‚    â”œâ”€ GET /auditorias/usuario/{usuario}
â”‚    â””â”€ GET /auditorias/tipo/{tipoOperacion}
â”‚
â”œâ”€â”€â”€ ğŸ“Š ReporteController
â”‚    â””â”€ GET /reportes/resumen
â”‚
â””â”€â”€â”€ ğŸ‘¥ UsuarioController
     â”œâ”€ GET /usuarios
     â”œâ”€ GET /usuarios/{id}
     â””â”€ GET /usuarios/username/{username}
```

## Control de Acceso por Rol

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ROLES EN LOGITRACK                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  ADMIN                           EMPLEADO                   â”‚
â”‚  â”œâ”€ âœ… Listar productos          â”œâ”€ âœ… Listar productos    â”‚
â”‚  â”œâ”€ âœ… Crear productos           â”œâ”€ âœ… Listar bodegas      â”‚
â”‚  â”œâ”€ âœ… Actualizar productos      â”œâ”€ âœ… Listar movimientos  â”‚
â”‚  â”œâ”€ âœ… Eliminar productos        â”œâ”€ âœ… Registrar entrada   â”‚
â”‚  â”œâ”€ âœ… Listar bodegas            â”œâ”€ âœ… Registrar salida    â”‚
â”‚  â”œâ”€ âœ… Crear bodegas             â”œâ”€ âœ… Registrar transfer. â”‚
â”‚  â”œâ”€ âœ… Actualizar bodegas        â”œâ”€ âœ… Ver auditorÃ­as      â”‚
â”‚  â”œâ”€ âœ… Eliminar bodegas          â”œâ”€ âœ… Ver reportes        â”‚
â”‚  â”œâ”€ âœ… Ver auditorÃ­as            â””â”€ âŒ Crear/eliminar      â”‚
â”‚  â”œâ”€ âœ… Ver reportes              â”‚
â”‚  â”œâ”€ âœ… Crear/editar usuarios     â”‚
â”‚  â””â”€ âœ… Eliminar movimientos      â”‚
â”‚                                   â”‚
â”‚  ACCESO: Total                ACCESO: Limitado             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Flujo de Solicitud HTTP

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Cliente HTTP                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ Solicitud HTTP
                     â”‚ â”œâ”€ MÃ©todo: GET/POST/PUT/DELETE
                     â”‚ â”œâ”€ URL: /api/endpoint
                     â”‚ â”œâ”€ Headers:
                     â”‚ â”‚  â”œâ”€ Content-Type: application/json
                     â”‚ â”‚  â””â”€ Authorization: Bearer <token>
                     â”‚ â””â”€ Body: {datos...}
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Spring Security Filter                         â”‚
â”‚  â”œâ”€ Validar JWT Token                                      â”‚
â”‚  â”œâ”€ Extraer Usuario y Roles                               â”‚
â”‚  â””â”€ Verificar Permisos                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                     â”‚
   âœ— InvÃ¡lido          âœ“ VÃ¡lido
      â”‚                     â”‚
      â–¼                     â–¼
  Error 401/403    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  Unauthorized     â”‚  Routing a         â”‚
  Forbidden        â”‚  Controller        â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  Business Logic    â”‚
                   â”‚  - Validaciones    â”‚
                   â”‚  - Operaciones BD  â”‚
                   â”‚  - AuditorÃ­a       â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  Response HTTP     â”‚
                   â”‚  â”œâ”€ Status Code    â”‚
                   â”‚  â”œâ”€ Headers        â”‚
                   â”‚  â””â”€ Body: {datos}  â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚    Cliente HTTP    â”‚
                  â”‚   Procesa datos    â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Ciclo de Vida de una Solicitud

```
1. Usuario hace solicitud
        â”‚
        â–¼
2. Swagger/Cliente HTTP
        â”‚
        â–¼
3. Spring Security
        â”œâ”€ Â¿Tiene token?
        â”‚   â”œâ”€ NO â†’ Error 401
        â”‚   â””â”€ SÃ â†’ Validar
        â”œâ”€ Â¿Token vÃ¡lido?
        â”‚   â”œâ”€ NO â†’ Error 401
        â”‚   â””â”€ SÃ â†’ Continuar
        â””â”€ Â¿Tiene rol requerido?
            â”œâ”€ NO â†’ Error 403
            â””â”€ SÃ â†’ Pasar al Controller
        â”‚
        â–¼
4. Controller
        â”œâ”€ Validar parÃ¡metros
        â”œâ”€ Llamar Service
        â””â”€ Generar Response
        â”‚
        â–¼
5. Service
        â”œâ”€ LÃ³gica de negocio
        â”œâ”€ Acceso a BD
        â””â”€ Generar auditoria
        â”‚
        â–¼
6. Repository
        â”œâ”€ OperaciÃ³n BD
        â””â”€ Retornar resultado
        â”‚
        â–¼
7. Response
        â”œâ”€ Status Code
        â”œâ”€ Headers
        â””â”€ Body (JSON)
        â”‚
        â–¼
8. Cliente recibe respuesta
```

## Tabla de CÃ³digos HTTP

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CÃ³digo  â”‚ Significado      â”‚ DescripciÃ³n                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 200     â”‚ OK               â”‚ Solicitud exitosa               â”‚
â”‚ 201     â”‚ Created          â”‚ Recurso creado exitosamente     â”‚
â”‚ 204     â”‚ No Content       â”‚ Sin contenido (DELETE)          â”‚
â”‚ 400     â”‚ Bad Request      â”‚ Datos invÃ¡lidos                 â”‚
â”‚ 401     â”‚ Unauthorized     â”‚ Sin autenticaciÃ³n               â”‚
â”‚ 403     â”‚ Forbidden        â”‚ Sin autorizaciÃ³n/permisos       â”‚
â”‚ 404     â”‚ Not Found        â”‚ Recurso no encontrado           â”‚
â”‚ 500     â”‚ Server Error     â”‚ Error interno del servidor      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Arquitectura de Capas

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CLIENT (Swagger UI)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              REST API Layer                                 â”‚
â”‚  Controllers (Endpoints)                                    â”‚
â”‚  - AuthController                                           â”‚
â”‚  - ProductoController                                       â”‚
â”‚  - BodegaController                                         â”‚
â”‚  - MovimientoController                                     â”‚
â”‚  - AuditoriaController                                      â”‚
â”‚  - ReporteController                                        â”‚
â”‚  - UsuarioController                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Business Logic Layer                              â”‚
â”‚  Services (LÃ³gica de negocio)                               â”‚
â”‚  - AuthService                                              â”‚
â”‚  - ProductoService                                          â”‚
â”‚  - BodegaService                                            â”‚
â”‚  - MovimientoService                                        â”‚
â”‚  - AuditoriaService                                         â”‚
â”‚  - ReporteService                                           â”‚
â”‚  - UsuarioService                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Data Access Layer                                â”‚
â”‚  Repositories (Acceso a BD)                                 â”‚
â”‚  - UsuarioRepository                                        â”‚
â”‚  - ProductoRepository                                       â”‚
â”‚  - BodegaRepository                                         â”‚
â”‚  - MovimientoRepository                                     â”‚
â”‚  - AuditoriaRepository                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Database Layer                                   â”‚
â”‚  MySQL Database                                             â”‚
â”‚  - usuarios                                                 â”‚
â”‚  - productos                                                â”‚
â”‚  - bodegas                                                  â”‚
â”‚  - movimientos                                              â”‚
â”‚  - auditorias                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ConfiguraciÃ³n de Seguridad

```
JWT Token
â”œâ”€ Algoritmo: HS512
â”œâ”€ Header
â”‚  â”œâ”€ alg: HS512
â”‚  â””â”€ typ: JWT
â”œâ”€ Payload
â”‚  â”œâ”€ sub: username
â”‚  â”œâ”€ iat: issued_at
â”‚  â”œâ”€ exp: expiration
â”‚  â””â”€ roles: [ADMIN, EMPLEADO]
â””â”€ Signature
   â””â”€ HMACSHA512(header + payload + secret)

Spring Security Filter Chain
â”œâ”€ JwtAuthenticationFilter
â”‚  â”œâ”€ Extraer token del header
â”‚  â”œâ”€ Validar token
â”‚  â”œâ”€ Cargar usuario
â”‚  â””â”€ Establecer SecurityContext
â””â”€ Authorized Requests
   â”œâ”€ /auth/** â†’ PERMITIR
   â”œâ”€ /swagger-ui/** â†’ PERMITIR
   â”œâ”€ /v3/api-docs â†’ PERMITIR
   â””â”€ /** â†’ REQUIERE JWT + ROL
```

---

**Diagrama generado automÃ¡ticamente para LogiTrack API** ğŸ“Š
